# WorkFlowy Forwarder Plus - Panel Framework

一个用于 WorkFlowy 的面板框架，支持多种任务管理模式。

## 功能特性

1. 核心功能
   - DailyPlanner: 日常计划管理
   - Target: 目标任务追踪(支持work/personal/temp三种子模式)
   - Collector: 信息收集整理
   - 多模式切换与联动
   - 状态同步: 自动同步 WorkFlowy 节点状态

2. 界面功能
   - 可折叠侧边面板
   - 深色/浅色主题支持
   - 快捷键支持(Ctrl + /)
   - 设置面板
   - 实时预览
   - Toast 提示反馈
   - 统一的完成状态视觉反馈

3. 数据管理
   - localStorage 本地存储
   - 配置导入导出
   - 自动保存
   - 状态自动同步
   - 定期状态检查

4. 设置系统
   - 模块化配置
   - 实时生效
   - 主题切换
   - 错误提示
   - 非阻塞式反馈

### 已完成
- [x] 基础面板框架
  - [x] 右侧弹出面板
  - [x] 切换按钮
  - [x] 快捷键支持(Ctrl + /)
  - [x] 面板显示/隐藏动画
- [x] 主题系统
  - [x] 深色/浅色主题切换
  - [x] CSS 变量支持
  - [x] 主题持久化存储
  - [x] 平滑过渡动画
- [x] 配置系统
  - [x] 配置数据结构
  - [x] 本地存储实现
  - [x] 配置验证功能
  - [x] 重置功能
  - [x] Toast 提示反馈
- [x] 配置面板完善
  - [x] 模式选择限制(最多3个)
  - [x] 输入框状态联动
  - [x] 多节点和标签支持
  - [x] 排除标签功能
  - [x] 非阻塞式操作反馈
- [x] 面板内容开发
  - [x] 标题栏设计
  - [x] 模式切换按钮
  - [x] 模式内容展示
    - [x] DailyPlanner 视图
    - [x] Target 视图
    - [x] Collector 视图
- [x] 核心功能实现
  - [x] DailyPlanner 功能
    - [x] 任务显示
    - [x] 状态更新
    - [x] 自动刷新
    - [x] Today's Plan集成
    - [x] 日历节点支持
  - [x] Target 功能
    - [x] 分组显示
    - [x] 标签过滤
    - [x] 状态同步
    - [x] 多节点支持
    - [x] 多标签支持
    - [x] 镜像节点检测
  - [x] Collector 功能
    - [x] 内容收集
    - [x] 一键复制
    - [x] 自动完成
- [x] 链接功能
  - [x] DailyPlanner模式
    - [x] Today's Plan链接
    - [x] DailyPlanner节点链接
  - [x] Target模式
    - [x] ForwardLogs链接
    - [x] Working链接
  - [x] Collector模式
    - [x] Collector节点链接
- [x] 清除功能
  - [x] 按模式清除
  - [x] 确认对话框
  - [x] 清除后刷新
- [x] 状态同步系统
  - [x] WorkFlowy 节点状态同步
  - [x] 定期状态检查机制
  - [x] 统一的完成状态样式
  - [x] 跨模式状态一致性
- [x] 优化清除当前模式卡片功能
### 进行中
- [ ] 优化明暗配色

### 待开发
- [ ] 优化快捷键功能


## 技术架构

### 前端架构
- 原生 JavaScript
- CSS 模块化
- HTML 模板注入
- localStorage 存储

### 核心模块
1. 主程序(panel-framework.js)
   - 核心功能实现
   - 面板管理
   - 事件处理
   - WorkFlowy API 集成

2. 设置系统
   - 配置面板
   - 主题管理
   - 数据存储
   - 实时同步
   - Toast 提示

3. 数据管理
   - 本地存储
   - 配置同步
   - 数据迁移
   - 错误处理

4. 快捷操作:
   - 点击复选框切换任务状态
   - 点击刷新按钮手动更新
   - Collector模式支持一键复制

## 错误处理

- 配置错误会显示具体的错误信息
- 节点访问失败会提示重试
- 操作失败会自动回滚状态

## 开发说明

### API 使用
- 使用 WorkFlowy 官方 API
- 支持节点操作和数据获取
- 包含完整的错误处理

### 配置验证
- 节点ID格式验证(支持多个)
- 标签格式验证(支持多个)
- 必填项检查

### 数据更新
- 支持增量更新
- 自动同步状态
- 错误恢复机制

## 更新日志
### v0.2.0
- 明暗主题的样式优化

### v0.0.18
- 修复了切换模式里不能显示多个Target类模式的问题
- 修复了清除当前模式按钮失效的问题

### v0.0.17
- 修复了配置面板的存在默认标签的问题

### v0.0.16
- 修复了卡片不能取消勾选的Bug

### v0.0.15
- 改进状态同步机制
  - 添加 WorkFlowy 节点状态自动同步
  - 实现定期状态检查
  - 统一完成状态视觉反馈
  - 优化错误处理和提示
  - 改进操作反馈机制

### v0.0.13
- 集成Today's Plan功能
  - 添加日历节点配置和验证
  - 优化节点查找算法
  - 添加节点缓存机制
  - 改进错误处理和提示
- 改进配置面板
  - 修复配置保存和验证问题
  - 优化Toast提示机制
  - 添加更多错误状态处理
- 优化模式链接显示
  - 实现模式特定链接控制
  - 修复链接可见性问题
  - 改进链接状态管理
  - 优化updateLinks函数作用域

### v0.0.12
- 修复配置保存问题
- 改进数据渲染方式
- 优化错误处理
- 添加自动完成功能

### v0.0.9
- 修复配置保存问题
- 改进数据渲染方式
- 优化错误处理
- 添加自动完成功能

### v0.0.8
- 改进配置面板交互
  - 使用 Toast 提示替代弹窗
  - 优化错误提示显示
  - 改进配置操作反馈
  - 保持重置确认对话框
  - 提升用户体验

### v0.0.7
- 实现模式切换功能
  - 添加模式切换按钮UI
  - 支持自定义模式名称显示
  - 根据启用状态动态显示/隐藏按钮
  - 优化按钮布局和样式
  - 添加模式内容容器框架

### v0.0.6
- 完善配置面板功能
  - 添加模式选择限制(最多3个)
  - 实现输入框状态联动
  - 支持多节点和标签配置
  - 添加排除标签功能
  - 优化表单交互体验

### v0.0.4
- 实现配置系统
  - 添加配置数据结构
  - 实现本地存储功能
  - 添加配置验证机制
  - 支持配置重置功能

### v0.0.2
- 实现主题系统
  - 添加深色/浅色主题支持
  - 使用 CSS 变量实现主题切换
  - 添加主题持久化存储
  - 优化主题切换体验

### v0.0.1
- 开始重构 main.js
- 完成基础面板框架
  - 实现右侧弹出面板
  - 添加切换按钮和快捷键
  - 优化面板动画效果
  - 整合设置面板
  - 优化数据管理
  - 改进用户界面

## 许可证
MIT License